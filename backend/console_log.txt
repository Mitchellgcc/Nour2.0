
> nour2.0-backend@1.0.0 start
> node server.js

Environment variables loaded:
POSTGRESQL_URI: postgres://mitchellgcc:Charlie123@localhost:5432/nutrition_app
MONGODB_URI: mongodb+srv://mitchellgcc:Charlie123@nourmvp.cj35pp0.mongodb.net/Nour2?retryWrites=true&w=majority&appName=NourMVP
WHOOP_CLIENT_ID: 065e2139-7cf9-41d5-a39e-684c8d0764e8
WHOOP_CLIENT_SECRET: b38acccd48d5dd6031f5ced87b6eac9a90725e84b5e6f4404b3e6db19d23c8f1
WHOOP_REDIRECT_URI: http://localhost:3001/connect-apps
WHOOP_API_BASE_URL: https://api.prod.whoop.com
PostgreSQL URI: postgres://mitchellgcc:Charlie123@localhost:5432/nutrition_app
(node:62580) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
PostgreSQL connected
(node:62580) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(node:62580) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
MongoDB connected
Sequelize synced successfully
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
Server running on port 5001
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[2024-07-12T06:02:19.579Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:02:19.580Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:19.581Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:19.583Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:02:19.788Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:02:19.788Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:19.788Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:19.790Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:02:19.790Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"s","308":"y","309":"n","31":"e","310":"c","311":"W","312":"h","313":"o","314":"o","315":"p","316":"D","317":"a","318":"t","319":"a","32":"s","320":"F","321":"o","322":"r","323":"A","324":"l","325":"l","326":"U","327":"s","328":"e","329":"r","33":" ","330":"s","331":" ","332":"(","333":"/","334":"U","335":"s","336":"e","337":"r","338":"s","339":"/","34":"o","340":"g","341":"e","342":"o","343":"r","344":"g","345":"e","346":"m","347":"i","348":"t","349":"c","35":"f","350":"h","351":"e","352":"l","353":"l","354":"/","355":"L","356":"i","357":"b","358":"r","359":"a","36":" ","360":"r","361":"y","362":"/","363":"M","364":"o","365":"b","366":"i","367":"l","368":"e","369":" ","37":"n","370":"D","371":"o","372":"c","373":"u","374":"m","375":"e","376":"n","377":"t","378":"s","379":"/","38":"u","380":"c","381":"o","382":"m","383":"~","384":"a","385":"p","386":"p","387":"l","388":"e","389":"~","39":"l","390":"C","391":"l","392":"o","393":"u","394":"d","395":"D","396":"o","397":"c","398":"s","399":"/","4":"E","40":"l","400":"N","401":"o","402":"u","403":"r","404":"2","405":".","406":"0","407":"/","408":"N","409":"o","41":" ","410":"u","411":"r","412":"2","413":".","414":"0","415":"/","416":"b","417":"a","418":"c","419":"k","42":"(","420":"e","421":"n","422":"d","423":"/","424":"s","425":"c","426":"h","427":"e","428":"d","429":"u","43":"r","430":"l","431":"i","432":"n","433":"g","434":"/","435":"s","436":"c","437":"h","438":"e","439":"d","44":"e","440":"u","441":"l","442":"e","443":"r","444":".","445":"j","446":"s","447":":","448":"1","449":"4","45":"a","450":"4","451":":","452":"2","453":"7","454":")","455":"\n","456":" ","457":" ","458":" ","459":" ","46":"d","460":"a","461":"t","462":" ","463":"a","464":"s","465":"y","466":"n","467":"c","468":" ","469":"/","47":"i","470":"U","471":"s","472":"e","473":"r","474":"s","475":"/","476":"g","477":"e","478":"o","479":"r","48":"n","480":"g","481":"e","482":"m","483":"i","484":"t","485":"c","486":"h","487":"e","488":"l","489":"l","49":"g","490":"/","491":"L","492":"i","493":"b","494":"r","495":"a","496":"r","497":"y","498":"/","499":"M","5":"r","50":" ","500":"o","501":"b","502":"i","503":"l","504":"e","505":" ","506":"D","507":"o","508":"c","509":"u","51":"'","510":"m","511":"e","512":"n","513":"t","514":"s","515":"/","516":"c","517":"o","518":"m","519":"~","52":"s","520":"a","521":"p","522":"p","523":"l","524":"e","525":"~","526":"C","527":"l","528":"o","529":"u","53":"t","530":"d","531":"D","532":"o","533":"c","534":"s","535":"/","536":"N","537":"o","538":"u","539":"r","54":"a","540":"2","541":".","542":"0","543":"/","544":"N","545":"o","546":"u","547":"r","548":"2","549":".","55":"t","550":"0","551":"/","552":"b","553":"a","554":"c","555":"k","556":"e","557":"n","558":"d","559":"/","56":"u","560":"s","561":"e","562":"r","563":"v","564":"e","565":"r","566":".","567":"j","568":"s","569":":","57":"s","570":"2","571":"8","572":":","573":"3","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:19"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async syncWhoopDataForAllUsers (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
    at async /Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/server.js:28:3
Incoming request: GET /api/nour-score/calculate
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:02:20"}
Incoming request: GET /api/profile
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:02:20"}
Incoming request: GET /api/notifications
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:02:20"}
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:02:20","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:02:20"}
Request received for calculateNourScore: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:02:20","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:02:20","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:02:20","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
Incoming request: GET /next-meal
Fetched user data: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
[32minfo[39m: getProfile: {"_changed":{},"_options":{"_schema":null,"_schemaDelimiter":"","attributes":["id","firstName","lastName","email","password","profileImage","timeZone","notifications","whoopId","whoopAccessToken","whoopRefreshToken","whoopTokenExpires","sessionId","dietaryPreferences","feedback","overallHealthScore","healthTrend","dateOfBirth","height","weight","gender","bodyComposition","activityLevel","dietHistory","healthMetricsTrends","realTimeData","createdAt","updatedAt"],"isNewRecord":false,"raw":true},"_previousDataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"dataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"isNewRecord":false,"service":"user-service","timestamp":"2024-07-12 07:02:20","uniqno":1}
[0mGET /api/profile [36m304[0m 24.654 ms - -[0m
[0mGET /next-meal [36m304[0m 8.562 ms - -[0m
[0mGET /api/notifications [36m304[0m 35.881 ms - -[0m
Found 1 meals for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Aggregated Data: {
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  hydrationLevel: 0,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ]
}
Nutritional Data to save or update: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:02:20.194Z
}
Updating existing nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:01:50.795Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:01:50.814Z,
  __v: 1
}
Updated nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:02:20.194Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:02:20.218Z,
  __v: 1
}
Aggregated Data for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:02:20.194Z
}
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:01:50.795Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:01:50.814Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:20","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:01:50.795Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:01:50.814Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:01:50.795Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:01:50.814Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[0mGET /api/next-meal [36m304[0m 198.369 ms - -[0m
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:02:20"}
Temperature data: 13
Aggregated data used for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:02:20.194Z
}
User data for maintenance calories calculation: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Calculating maintenance calories with data: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Maintenance Calories for user: 3109.9471319999993
Caloric Intake: 400, Goal: 3110, Intake Percentage: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Invalid input for macro nutrient balance score calculation
Macro Nutrient Score: 0
Invalid input for micro nutrient intake score calculation
Micro Nutrient Score: 0
Invalid input for hydration level score calculation
Hydration Score: 0
Overall NourScore: 3.858520900321543
Calculated NourScore: 4
NourScore calculated: 4
[0mGET /api/nour-score/calculate [36m304[0m 228.955 ms - -[0m
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:02:20","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:20","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[2024-07-12T06:02:20.520Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:02:20.520Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:20.520Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:20.521Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[0mGET /api/next-meal [36m304[0m 159.861 ms - -[0m
[2024-07-12T06:02:20.682Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:02:20.682Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:20.682Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:20.684Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:02:20.684Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:20"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[2024-07-12T06:02:30.553Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:02:30.554Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:30.554Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:30.557Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:02:30.760Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:02:30.760Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:30.760Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:30.762Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:02:30.763Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:30"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:02:33"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:02:33"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:02:33"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:02:33"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:02:34","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:34","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:02:34"}
[0mGET /api/next-meal [32m200[0m 284.832 ms - 865[0m
Incoming request: GET /meals/6686d58398d24f9dacce4c1b
[0mGET /meals/6686d58398d24f9dacce4c1b [36m304[0m 12.154 ms - -[0m
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[2024-07-12T06:02:40.609Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:02:40.610Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:40.610Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:40.620Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:02:40.942Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:02:40.943Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:40.943Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:40.948Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:02:40.948Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:40"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[2024-07-12T06:02:50.637Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:02:50.638Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:50.638Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:50.648Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:02:50.960Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:02:50.961Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:50.961Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:02:50.963Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:02:50.964Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:02:50"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:03:00"}
[2024-07-12T06:03:00.711Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:03:00.712Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:00.712Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:00.716Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:03:01.048Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:03:01.048Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:01.048Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:01.050Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:03:01.053Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:03:01"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:01"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:01"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:01"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:01"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:03:10"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[2024-07-12T06:03:11.489Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:03:11.503Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:11.504Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:11.551Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:03:11.806Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:03:11.806Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:11.806Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:11.811Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:03:11.815Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:11"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:03:20"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[2024-07-12T06:03:21.103Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:03:21.108Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:21.108Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:21.114Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:03:21.344Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:03:21.344Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:21.344Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:21.345Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:03:21.348Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:21"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:03:30"}
[2024-07-12T06:03:30.979Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:03:30.982Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:30.983Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:30.989Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:03:31.234Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:03:31.234Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:31.234Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:31.236Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:03:31.239Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:03:31"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:31"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:31"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:31"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:31"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:03:40"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[2024-07-12T06:03:41.418Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:03:41.419Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:41.419Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:41.438Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:03:41.760Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:03:41.764Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:41.765Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:41.792Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:03:41.830Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:41"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:03:50"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[2024-07-12T06:03:51.384Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:03:51.389Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:51.400Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:51.498Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:03:51.762Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:03:51.763Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:51.763Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:03:51.781Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:03:51.786Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:03:51"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:04:00"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[2024-07-12T06:04:01.345Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:04:01.346Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:01.346Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:01.365Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:04:01.576Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:04:01.577Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:01.577Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:01.578Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:04:01.580Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:01"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:04:10"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:12"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:12"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:12"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:12"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:12"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:12"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:12"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:12"}
[2024-07-12T06:04:12.398Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:04:12.405Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:12.405Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:12.605Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:04:13.047Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:04:13.048Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:13.049Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:13.084Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:04:13.121Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:04:13"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:13"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:13"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:13"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:13"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
Incoming request: GET /api/profile
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:14"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:15"}
Incoming request: GET /api/notifications
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:15"}
Incoming request: GET /api/nour-score/calculate
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:15"}
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:15"}
Incoming request: GET /next-meal
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:15","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:15","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[0mGET /next-meal [36m304[0m 37.383 ms - -[0m
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:15","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:15"}
Request received for calculateNourScore: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
[0mGET /api/notifications [36m304[0m 161.604 ms - -[0m
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:15","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: getProfile: {"_changed":{},"_options":{"_schema":null,"_schemaDelimiter":"","attributes":["id","firstName","lastName","email","password","profileImage","timeZone","notifications","whoopId","whoopAccessToken","whoopRefreshToken","whoopTokenExpires","sessionId","dietaryPreferences","feedback","overallHealthScore","healthTrend","dateOfBirth","height","weight","gender","bodyComposition","activityLevel","dietHistory","healthMetricsTrends","realTimeData","createdAt","updatedAt"],"isNewRecord":false,"raw":true},"_previousDataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"dataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"isNewRecord":false,"service":"user-service","timestamp":"2024-07-12 07:04:15","uniqno":1}
[0mGET /api/profile [36m304[0m 419.611 ms - -[0m
Fetched user data: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
Found 1 meals for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Aggregated Data: {
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  hydrationLevel: 0,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ]
}
Nutritional Data to save or update: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:15.390Z
}
Updating existing nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:02:20.194Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:02:20.218Z,
  __v: 1
}
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:15","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
Updated nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:15.390Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:04:15.432Z,
  __v: 1
}
Aggregated Data for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:15.390Z
}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:02:20.194Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:02:20.218Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[0mGET /api/next-meal [36m304[0m 317.420 ms - -[0m
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:15","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
Temperature data: 13
Aggregated data used for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:15.390Z
}
User data for maintenance calories calculation: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Calculating maintenance calories with data: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Maintenance Calories for user: 3109.9471319999993
Caloric Intake: 400, Goal: 3110, Intake Percentage: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Invalid input for macro nutrient balance score calculation
Macro Nutrient Score: 0
Invalid input for micro nutrient intake score calculation
Micro Nutrient Score: 0
Invalid input for hydration level score calculation
Hydration Score: 0
Overall NourScore: 3.858520900321543
Calculated NourScore: 4
NourScore calculated: 4
[0mGET /api/nour-score/calculate [36m304[0m 398.844 ms - -[0m
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:15.390Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:15.432Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:15","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:15.390Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:15.432Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:15.390Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:15.432Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:15"}
[0mGET /api/next-meal [36m304[0m 160.742 ms - -[0m
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[2024-07-12T06:04:20.504Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:04:20.504Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:20.504Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:20.508Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:04:20.733Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:04:20.733Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:20.733Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:20.749Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:04:20.750Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:20"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
Incoming request: GET /api/profile
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:04:30"}
Incoming request: GET /api/notifications
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:30"}
Incoming request: GET /api/nour-score/calculate
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:30"}
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:30"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:30"}
Incoming request: GET /next-meal
[0mGET /next-meal [36m304[0m 4.465 ms - -[0m
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:32","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[2024-07-12T06:04:32.245Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:04:32.245Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:32.248Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:32","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: getProfile: {"_changed":{},"_options":{"_schema":null,"_schemaDelimiter":"","attributes":["id","firstName","lastName","email","password","profileImage","timeZone","notifications","whoopId","whoopAccessToken","whoopRefreshToken","whoopTokenExpires","sessionId","dietaryPreferences","feedback","overallHealthScore","healthTrend","dateOfBirth","height","weight","gender","bodyComposition","activityLevel","dietHistory","healthMetricsTrends","realTimeData","createdAt","updatedAt"],"isNewRecord":false,"raw":true},"_previousDataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"dataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"isNewRecord":false,"service":"user-service","timestamp":"2024-07-12 07:04:32","uniqno":1}
[0mGET /api/profile [36m304[0m 1910.703 ms - -[0m
[2024-07-12T06:04:32.306Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[0mGET /api/notifications [36m304[0m 1784.286 ms - -[0m
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:32","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:32"}
Request received for calculateNourScore: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:32","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
Fetched user data: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
Found 1 meals for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Aggregated Data: {
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  hydrationLevel: 0,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ]
}
Nutritional Data to save or update: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:32.544Z
}
[2024-07-12T06:04:32.571Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:04:32.571Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:32.571Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
Updating existing nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:15.390Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:04:15.432Z,
  __v: 1
}
[2024-07-12T06:04:32.597Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:04:32.631Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
Updated nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:32.544Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:04:32.584Z,
  __v: 1
}
Aggregated Data for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:32.544Z
}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:15.390Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:15.432Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:32","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
Temperature data: 13
Aggregated data used for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:32.544Z
}
User data for maintenance calories calculation: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Calculating maintenance calories with data: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Maintenance Calories for user: 3109.9471319999993
Caloric Intake: 400, Goal: 3110, Intake Percentage: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Invalid input for macro nutrient balance score calculation
Macro Nutrient Score: 0
Invalid input for micro nutrient intake score calculation
Micro Nutrient Score: 0
Invalid input for hydration level score calculation
Hydration Score: 0
Overall NourScore: 3.858520900321543
Calculated NourScore: 4
NourScore calculated: 4
[0mGET /api/nour-score/calculate [36m304[0m 2113.207 ms - -[0m
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:15.390Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:15.432Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:15.390Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:15.432Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[0mGET /api/next-meal [36m304[0m 2128.727 ms - -[0m
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:32","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:32.544Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:32.584Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:32","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:32.544Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:32.584Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:32.544Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:32.584Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:32"}
[0mGET /api/next-meal [36m304[0m 158.554 ms - -[0m
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[2024-07-12T06:04:40.686Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:04:40.687Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:40.688Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:40.692Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:04:40.907Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:04:40.907Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:40.907Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:40.908Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:04:40.909Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:40"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
Incoming request: GET /api/profile
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:47"}
Incoming request: GET /api/nour-score/calculate
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:47"}
Incoming request: GET /api/notifications
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:47"}
Incoming request: GET /next-meal
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[0mGET /next-meal [36m304[0m 47.973 ms - -[0m
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:47","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:47","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:47"}
Request received for calculateNourScore: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:47","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:47"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:47","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: getProfile: {"_changed":{},"_options":{"_schema":null,"_schemaDelimiter":"","attributes":["id","firstName","lastName","email","password","profileImage","timeZone","notifications","whoopId","whoopAccessToken","whoopRefreshToken","whoopTokenExpires","sessionId","dietaryPreferences","feedback","overallHealthScore","healthTrend","dateOfBirth","height","weight","gender","bodyComposition","activityLevel","dietHistory","healthMetricsTrends","realTimeData","createdAt","updatedAt"],"isNewRecord":false,"raw":true},"_previousDataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"dataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"isNewRecord":false,"service":"user-service","timestamp":"2024-07-12 07:04:48","uniqno":1}
[0mGET /api/profile [36m304[0m 712.810 ms - -[0m
Fetched user data: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
[0mGET /api/notifications [36m304[0m 696.121 ms - -[0m
Found 1 meals for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Aggregated Data: {
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  hydrationLevel: 0,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ]
}
Nutritional Data to save or update: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:48.032Z
}
Updating existing nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:32.544Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:04:32.584Z,
  __v: 1
}
Updated nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:48.032Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:04:48.053Z,
  __v: 1
}
Aggregated Data for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:48.032Z
}
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:32.544Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:32.584Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:48","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:32.544Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:32.584Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:32.544Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:32.584Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[0mGET /api/next-meal [36m304[0m 759.219 ms - -[0m
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:04:48","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
Temperature data: 13
Aggregated data used for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:48.032Z
}
User data for maintenance calories calculation: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Calculating maintenance calories with data: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Maintenance Calories for user: 3109.9471319999993
Caloric Intake: 400, Goal: 3110, Intake Percentage: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Invalid input for macro nutrient balance score calculation
Macro Nutrient Score: 0
Invalid input for micro nutrient intake score calculation
Micro Nutrient Score: 0
Invalid input for hydration level score calculation
Hydration Score: 0
Overall NourScore: 3.858520900321543
Calculated NourScore: 4
NourScore calculated: 4
[0mGET /api/nour-score/calculate [36m304[0m 836.665 ms - -[0m
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:48.032Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:48.053Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:48","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:48.032Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:48.053Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:48.032Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:48.053Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:04:48"}
[0mGET /api/next-meal [36m304[0m 124.215 ms - -[0m
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:04:50"}
[2024-07-12T06:04:50.944Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:04:50.947Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:50.947Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:50.995Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:04:51.350Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:04:51.350Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:51.350Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:04:51.374Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:04:51.376Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:04:51"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:51"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:51"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:51"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:04:51"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:05:00"}
Incoming request: GET /meals/6686d58398d24f9dacce4c1b
[0mGET /meals/6686d58398d24f9dacce4c1b [36m304[0m 22.172 ms - -[0m
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[2024-07-12T06:05:02.109Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:05:02.109Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:05:02.110Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:05:02.151Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
[2024-07-12T06:05:02.532Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:05:02.532Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:05:02.532Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:05:02.536Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:05:02.539Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:02"}
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Running scheduled job for Whoop data sync {"service":"user-service","timestamp":"2024-07-12 07:05:10"}
Incoming request: GET /api/profile
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: User ba4f4dd3-6efe-42e0-958b-689060e4acaa does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: User e03852b5-131d-43c0-bd77-1791a965af92 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: User 6be2401d-72db-4e94-b491-b01c7440912f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: User aabfd3ab-9a9b-4ff6-98a0-6477a8818fc1 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: User f1372ff7-1b5f-42a5-8d2c-163fad81e71b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: User b6e21ad5-a666-438e-8438-c8955db35c8b does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: User 369806d0-381a-49ad-b8c7-5eda532bbbe6 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: Syncing data for user: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:05:11"}
[2024-07-12T06:05:11.885Z] Preparing to sync data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
[2024-07-12T06:05:11.885Z] Preparing to sync data: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:05:11.885Z] Fetching profile: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
Incoming request: GET /api/nour-score/calculate
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:05:11"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:05:11","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:05:11"}
[2024-07-12T06:05:11.922Z] Fetching profile from Whoop: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  accessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc'
}
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:05:12","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:05:12"}
Request received for calculateNourScore: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
Incoming request: GET /api/notifications
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: getProfile: {"_changed":{},"_options":{"_schema":null,"_schemaDelimiter":"","attributes":["id","firstName","lastName","email","password","profileImage","timeZone","notifications","whoopId","whoopAccessToken","whoopRefreshToken","whoopTokenExpires","sessionId","dietaryPreferences","feedback","overallHealthScore","healthTrend","dateOfBirth","height","weight","gender","bodyComposition","activityLevel","dietHistory","healthMetricsTrends","realTimeData","createdAt","updatedAt"],"isNewRecord":false,"raw":true},"_previousDataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"dataValues":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"isNewRecord":false,"service":"user-service","timestamp":"2024-07-12 07:05:12","uniqno":1}
[0mGET /api/profile [36m304[0m 318.982 ms - -[0m
Incoming request: GET /next-meal
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:05:12","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
Fetched user data: User {
  dataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  _previousDataValues: {
    id: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
    firstName: null,
    lastName: null,
    email: 'mitchellgcc@gmail.com',
    password: '$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu',
    profileImage: 'https://example.com/profile.jpg',
    timeZone: 'GMT+1',
    notifications: null,
    whoopId: '9024165',
    whoopAccessToken: '3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc',
    whoopRefreshToken: null,
    whoopTokenExpires: null,
    sessionId: 'UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_',
    dietaryPreferences: {},
    feedback: {},
    overallHealthScore: 0,
    healthTrend: 'neutral',
    dateOfBirth: 1995-01-05T00:00:00.000Z,
    height: 172.72,
    weight: 66,
    gender: 'male',
    bodyComposition: { bodyFatPercentage: 20, muscleMass: 30 },
    activityLevel: 'super_active',
    dietHistory: null,
    healthMetricsTrends: null,
    realTimeData: null,
    createdAt: 2024-06-26T07:14:24.385Z,
    updatedAt: 2024-07-12T06:01:47.910Z
  },
  uniqno: 1,
  _changed: Set(0) {},
  _options: {
    isNewRecord: false,
    _schema: null,
    _schemaDelimiter: '',
    raw: true,
    attributes: [
      'id',                  'firstName',
      'lastName',            'email',
      'password',            'profileImage',
      'timeZone',            'notifications',
      'whoopId',             'whoopAccessToken',
      'whoopRefreshToken',   'whoopTokenExpires',
      'sessionId',           'dietaryPreferences',
      'feedback',            'overallHealthScore',
      'healthTrend',         'dateOfBirth',
      'height',              'weight',
      'gender',              'bodyComposition',
      'activityLevel',       'dietHistory',
      'healthMetricsTrends', 'realTimeData',
      'createdAt',           'updatedAt'
    ]
  },
  isNewRecord: false
}
[0mGET /next-meal [36m304[0m 37.217 ms - -[0m
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:05:12","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:05:12"}
Found 1 meals for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Aggregated Data: {
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  hydrationLevel: 0,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ]
}
Nutritional Data to save or update: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:05:12.238Z
}
[0mGET /api/notifications [36m304[0m 191.078 ms - -[0m
Updating existing nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:04:48.032Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:04:48.053Z,
  __v: 1
}
Updated nutritional data: {
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: Map(0) {}, minerals: Map(0) {} },
  _id: new ObjectId('6690aa58e78e3cf9de7c1181'),
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:05:12.238Z,
  createdAt: 2024-07-12T04:00:24.868Z,
  updatedAt: 2024-07-12T06:05:12.288Z,
  __v: 1
}
Aggregated Data for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:05:12.238Z
}
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:48.032Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:48.053Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:05:12","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[2024-07-12T06:05:12.386Z] Error in fetchProfile for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: Authorization was not valid
[2024-07-12T06:05:12.386Z] Access token expired: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[2024-07-12T06:05:12.387Z] Attempting to refresh Whoop token: { userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1' }
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:48.032Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:48.053Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:04:48.032Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:04:48.053Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[0mGET /api/next-meal [36m304[0m 460.109 ms - -[0m
[2024-07-12T06:05:12.495Z] Error syncing Whoop data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: No refresh token available for the user
[31merror[39m: [2024-07-12T06:05:12.514Z] Error during data synchronization for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1: {"0":"T","1":"y","10":" ","100":"h","101":"e","102":"l","103":"l","104":"/","105":"L","106":"i","107":"b","108":"r","109":"a","11":"C","110":"r","111":"y","112":"/","113":"M","114":"o","115":"b","116":"i","117":"l","118":"e","119":" ","12":"a","120":"D","121":"o","122":"c","123":"u","124":"m","125":"e","126":"n","127":"t","128":"s","129":"/","13":"n","130":"c","131":"o","132":"m","133":"~","134":"a","135":"p","136":"p","137":"l","138":"e","139":"~","14":"n","140":"C","141":"l","142":"o","143":"u","144":"d","145":"D","146":"o","147":"c","148":"s","149":"/","15":"o","150":"N","151":"o","152":"u","153":"r","154":"2","155":".","156":"0","157":"/","158":"N","159":"o","16":"t","160":"u","161":"r","162":"2","163":".","164":"0","165":"/","166":"b","167":"a","168":"c","169":"k","17":" ","170":"e","171":"n","172":"d","173":"/","174":"c","175":"o","176":"n","177":"t","178":"r","179":"o","18":"r","180":"l","181":"l","182":"e","183":"r","184":"s","185":"/","186":"w","187":"h","188":"o","189":"o","19":"e","190":"p","191":"C","192":"o","193":"n","194":"t","195":"r","196":"o","197":"l","198":"l","199":"e","2":"p","20":"a","200":"r","201":".","202":"j","203":"s","204":":","205":"1","206":"3","207":"4","208":":","209":"9","21":"d","210":")","211":"\n","212":" ","213":" ","214":" ","215":" ","216":"a","217":"t","218":" ","219":"p","22":" ","220":"r","221":"o","222":"c","223":"e","224":"s","225":"s","226":".","227":"p","228":"r","229":"o","23":"p","230":"c","231":"e","232":"s","233":"s","234":"T","235":"i","236":"c","237":"k","238":"s","239":"A","24":"r","240":"n","241":"d","242":"R","243":"e","244":"j","245":"e","246":"c","247":"t","248":"i","249":"o","25":"o","250":"n","251":"s","252":" ","253":"(","254":"n","255":"o","256":"d","257":"e","258":":","259":"i","26":"p","260":"n","261":"t","262":"e","263":"r","264":"n","265":"a","266":"l","267":"/","268":"p","269":"r","27":"e","270":"o","271":"c","272":"e","273":"s","274":"s","275":"/","276":"t","277":"a","278":"s","279":"k","28":"r","280":"_","281":"q","282":"u","283":"e","284":"u","285":"e","286":"s","287":":","288":"9","289":"5","29":"t","290":":","291":"5","292":")","293":"\n","294":" ","295":" ","296":" ","297":" ","298":"a","299":"t","3":"e","30":"i","300":" ","301":"a","302":"s","303":"y","304":"n","305":"c","306":" ","307":"T","308":"a","309":"s","31":"e","310":"k","311":".","312":"s","313":"y","314":"n","315":"c","316":"W","317":"h","318":"o","319":"o","32":"s","320":"p","321":"D","322":"a","323":"t","324":"a","325":"F","326":"o","327":"r","328":"A","329":"l","33":" ","330":"l","331":"U","332":"s","333":"e","334":"r","335":"s","336":" ","337":"[","338":"a","339":"s","34":"o","340":" ","341":"_","342":"e","343":"x","344":"e","345":"c","346":"u","347":"t","348":"i","349":"o","35":"f","350":"n","351":"]","352":" ","353":"(","354":"/","355":"U","356":"s","357":"e","358":"r","359":"s","36":" ","360":"/","361":"g","362":"e","363":"o","364":"r","365":"g","366":"e","367":"m","368":"i","369":"t","37":"n","370":"c","371":"h","372":"e","373":"l","374":"l","375":"/","376":"L","377":"i","378":"b","379":"r","38":"u","380":"a","381":"r","382":"y","383":"/","384":"M","385":"o","386":"b","387":"i","388":"l","389":"e","39":"l","390":" ","391":"D","392":"o","393":"c","394":"u","395":"m","396":"e","397":"n","398":"t","399":"s","4":"E","40":"l","400":"/","401":"c","402":"o","403":"m","404":"~","405":"a","406":"p","407":"p","408":"l","409":"e","41":" ","410":"~","411":"C","412":"l","413":"o","414":"u","415":"d","416":"D","417":"o","418":"c","419":"s","42":"(","420":"/","421":"N","422":"o","423":"u","424":"r","425":"2","426":".","427":"0","428":"/","429":"N","43":"r","430":"o","431":"u","432":"r","433":"2","434":".","435":"0","436":"/","437":"b","438":"a","439":"c","44":"e","440":"k","441":"e","442":"n","443":"d","444":"/","445":"s","446":"c","447":"h","448":"e","449":"d","45":"a","450":"u","451":"l","452":"i","453":"n","454":"g","455":"/","456":"s","457":"c","458":"h","459":"e","46":"d","460":"d","461":"u","462":"l","463":"e","464":"r","465":".","466":"j","467":"s","468":":","469":"1","47":"i","470":"4","471":"4","472":":","473":"2","474":"7","475":")","48":"n","49":"g","5":"r","50":" ","51":"'","52":"s","53":"t","54":"a","55":"t","56":"u","57":"s","58":"'","59":")","6":"r","60":"\n","61":" ","62":" ","63":" ","64":" ","65":"a","66":"t","67":" ","68":"s","69":"y","7":"o","70":"n","71":"c","72":"W","73":"h","74":"o","75":"o","76":"p","77":"D","78":"a","79":"t","8":"r","80":"a","81":" ","82":"(","83":"/","84":"U","85":"s","86":"e","87":"r","88":"s","89":"/","9":":","90":"g","91":"e","92":"o","93":"r","94":"g","95":"e","96":"m","97":"i","98":"t","99":"c","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: User a2c7f07b-c860-4db2-9dd7-f1440ce3ad43 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: User 87907fb3-d485-4f88-a1ed-b8a53f8a5c80 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: User a200ce67-04eb-408f-bcfa-2ab75e1f579f does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: User a8b7a610-bd60-418f-9ec9-b0bc03bd99f4 does not have a valid Whoop access token. {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
Incoming request: GET /api/next-meal
[32minfo[39m: Incoming request: GET /api/next-meal {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Authenticating request with header: {"0":"B","1":"e","10":"h","100":"M","101":"S","102":"I","103":"s","104":"I","105":"m","106":"l","107":"h","108":"d","109":"C","11":"b","110":"I","111":"6","112":"M","113":"T","114":"c","115":"y","116":"M","117":"D","118":"c","119":"2","12":"G","120":"N","121":"D","122":"E","123":"w","124":"N","125":"y","126":"w","127":"i","128":"Z","129":"X","13":"c","130":"h","131":"w","132":"I","133":"j","134":"o","135":"x","136":"N","137":"z","138":"I","139":"w","14":"i","140":"N","141":"z","142":"Y","143":"1","144":"O","145":"T","146":"A","147":"3","148":"f","149":"Q","15":"O","150":".","151":"0","152":"6","153":"P","154":"X","155":"R","156":"3","157":"M","158":"8","159":"n","16":"i","160":"y","161":"p","162":"7","163":"x","164":"G","165":"a","166":"Z","167":"R","168":"o","169":"u","17":"J","170":"c","171":"I","172":"O","173":"J","174":"d","175":"6","176":"H","177":"-","178":"b","179":"W","18":"I","180":"K","181":"j","182":"_","183":"o","184":"3","185":"I","186":"E","187":"T","188":"7","189":"9","19":"U","190":"Z","191":"1","192":"j","193":"o","2":"a","20":"z","21":"I","22":"1","23":"N","24":"i","25":"I","26":"s","27":"I","28":"n","29":"R","3":"r","30":"5","31":"c","32":"C","33":"I","34":"6","35":"I","36":"k","37":"p","38":"X","39":"V","4":"e","40":"C","41":"J","42":"9","43":".","44":"e","45":"y","46":"J","47":"p","48":"Z","49":"C","5":"r","50":"I","51":"6","52":"I","53":"m","54":"F","55":"i","56":"Y","57":"z","58":"Q","59":"y","6":" ","60":"N","61":"D","62":"E","63":"y","64":"L","65":"T","66":"B","67":"i","68":"N","69":"G","7":"e","70":"M","71":"t","72":"N","73":"G","74":"U","75":"4","76":"Y","77":"y","78":"1","79":"i","8":"y","80":"Y","81":"T","82":"d","83":"h","84":"L","85":"T","86":"N","87":"k","88":"N","89":"D","9":"J","90":"F","91":"j","92":"N","93":"G","94":"E","95":"5","96":"N","97":"m","98":"F","99":"k","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Extracted token: {"0":"e","1":"y","10":"J","100":"h","101":"d","102":"C","103":"I","104":"6","105":"M","106":"T","107":"c","108":"y","109":"M","11":"I","110":"D","111":"c","112":"2","113":"N","114":"D","115":"E","116":"w","117":"N","118":"y","119":"w","12":"U","120":"i","121":"Z","122":"X","123":"h","124":"w","125":"I","126":"j","127":"o","128":"x","129":"N","13":"z","130":"z","131":"I","132":"w","133":"N","134":"z","135":"Y","136":"1","137":"O","138":"T","139":"A","14":"I","140":"3","141":"f","142":"Q","143":".","144":"0","145":"6","146":"P","147":"X","148":"R","149":"3","15":"1","150":"M","151":"8","152":"n","153":"y","154":"p","155":"7","156":"x","157":"G","158":"a","159":"Z","16":"N","160":"R","161":"o","162":"u","163":"c","164":"I","165":"O","166":"J","167":"d","168":"6","169":"H","17":"i","170":"-","171":"b","172":"W","173":"K","174":"j","175":"_","176":"o","177":"3","178":"I","179":"E","18":"I","180":"T","181":"7","182":"9","183":"Z","184":"1","185":"j","186":"o","19":"s","2":"J","20":"I","21":"n","22":"R","23":"5","24":"c","25":"C","26":"I","27":"6","28":"I","29":"k","3":"h","30":"p","31":"X","32":"V","33":"C","34":"J","35":"9","36":".","37":"e","38":"y","39":"J","4":"b","40":"p","41":"Z","42":"C","43":"I","44":"6","45":"I","46":"m","47":"F","48":"i","49":"Y","5":"G","50":"z","51":"Q","52":"y","53":"N","54":"D","55":"E","56":"y","57":"L","58":"T","59":"B","6":"c","60":"i","61":"N","62":"G","63":"M","64":"t","65":"N","66":"G","67":"U","68":"4","69":"Y","7":"i","70":"y","71":"1","72":"i","73":"Y","74":"T","75":"d","76":"h","77":"L","78":"T","79":"N","8":"O","80":"k","81":"N","82":"D","83":"F","84":"j","85":"N","86":"G","87":"E","88":"5","89":"N","9":"i","90":"m","91":"F","92":"k","93":"M","94":"S","95":"I","96":"s","97":"I","98":"m","99":"l","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Token valid, decoded payload: {"exp":1720765907,"iat":1720764107,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: User found: {"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"service":"user-service","sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","timestamp":"2024-07-12 07:05:12","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null}
[32minfo[39m: req.user set with ID: {"0":"a","1":"b","10":"b","11":"4","12":"c","13":"-","14":"4","15":"e","16":"8","17":"c","18":"-","19":"b","2":"c","20":"a","21":"7","22":"a","23":"-","24":"3","25":"d","26":"4","27":"1","28":"c","29":"4","3":"4","30":"a","31":"9","32":"6","33":"a","34":"d","35":"1","4":"2","5":"4","6":"1","7":"2","8":"-","9":"0","service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: GET /api/next-meal endpoint hit {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: getNextMeal called with userId: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Aggregating data for user abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1 {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
Temperature data: 13
Aggregated data used for NourScore calculation: {
  userId: 'abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1',
  totalCalories: 400,
  macronutrients: { proteins: 20, carbohydrates: 50, fats: 15 },
  micronutrients: { vitamins: {}, minerals: {} },
  hydrationLevel: 200,
  mealIds: [ new ObjectId('6690b1aec3d04b56069f5bfc') ],
  date: 2024-07-12T06:05:12.238Z
}
User data for maintenance calories calculation: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Calculating maintenance calories with data: {
  weight: 66,
  height: 172.72,
  age: 29,
  gender: 'male',
  activityLevel: 'super_active'
}
Maintenance Calories for user: 3109.9471319999993
Caloric Intake: 400, Goal: 3110, Intake Percentage: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Caloric Intake Score: 12.861736334405144
Invalid input for macro nutrient balance score calculation
Macro Nutrient Score: 0
Invalid input for micro nutrient intake score calculation
Micro Nutrient Score: 0
Invalid input for hydration level score calculation
Hydration Score: 0
Overall NourScore: 3.858520900321543
Calculated NourScore: 4
NourScore calculated: 4
[0mGET /api/nour-score/calculate [36m304[0m 656.670 ms - -[0m
Processing user ID: 4495835d-8ae5-40f6-85b0-c8d2c309172b
User not found: 4495835d-8ae5-40f6-85b0-c8d2c309172b
Processing user ID: e7bda696-e5da-4603-b19b-2050ac70c848
User not found: e7bda696-e5da-4603-b19b-2050ac70c848
Processing user ID: abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1
Error in getRecommendations: Meal.findAll is not a function
Error in deriveInsights: TypeError: Meal.findAll is not a function
    at getRecommendations (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:22:30)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async deriveInsights (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/services/recommendationEngine.js:90:7)
    at async Task.syncWhoopDataForAllUsers [as _execution] (/Users/georgemitchell/Library/Mobile Documents/com~apple~CloudDocs/Nour2.0/Nour2.0/backend/scheduling/scheduler.js:164:3)
[32minfo[39m: Aggregated user data: {"enhancedData":null,"nutritionalData":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:05:12.238Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:05:12.288Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:05:12","user":{"activityLevel":"super_active","bodyComposition":{"bodyFatPercentage":20,"muscleMass":30},"createdAt":"2024-06-26T07:14:24.385Z","dateOfBirth":"1995-01-05T00:00:00.000Z","dietHistory":null,"dietaryPreferences":{},"email":"mitchellgcc@gmail.com","feedback":{},"firstName":null,"gender":"male","healthMetricsTrends":null,"healthTrend":"neutral","height":172.72,"id":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","lastName":null,"notifications":null,"overallHealthScore":0,"password":"$2a$10$nZqztYie2NYdVEZLF1WHhOoIFB60WEzGQVTy2EQspUHUpsKxOryuu","profileImage":"https://example.com/profile.jpg","realTimeData":null,"sessionId":"UvY2pI8R2cEgqVA-6Orm4KFS2gHFXSZ_","timeZone":"GMT+1","updatedAt":"2024-07-12T06:01:47.910Z","weight":66,"whoopAccessToken":"3Nh73wREaq-DK3rPF1Tdp-6M9CXFX0XZBubU3pf-Edk.VDDdjGh3fYbwiuC1CbJ4yEE7b1cbk0KUOWUXsPrjcUc","whoopId":"9024165","whoopRefreshToken":null,"whoopTokenExpires":null},"userPreferences":null,"whoopData":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]}}
[32minfo[39m: Fetched all meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Filtering meals with userPreferences: {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Matching meals with nutritionalData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"G","11":"o","12":"a","13":"l","14":"s","15":":","2":"d","3":" ","4":"h","5":"e","6":"a","7":"l","8":"t","9":"h","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:05:12.238Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:05:12.288Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Matched meals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Adjusting meals with whoopData: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","activeMinutes":"init","createdAt":"init","cycles":"init","distance":"init","profile":"init","recoveries":"init","sleepData":"init","steps":"init","updatedAt":"init","userId":"init","workouts":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"activeMinutes":true,"createdAt":true,"cycles":true,"distance":true,"profile":true,"recoveries":true,"sleepData":true,"steps":true,"updatedAt":true,"userId":true,"workouts":true},"require":{}}},"skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":4,"_id":"667bbfd83163110fe84d2ab2","activeMinutes":0,"createdAt":"2024-06-26T07:14:32.829Z","cycles":[{"created_at":"2024-07-02T05:52:16.107Z","end":null,"id":605540495,"score":{"average_heart_rate":60,"kilojoule":4735.9795,"max_heart_rate":143,"strain":8.319853},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.110Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":null,"id":604837863,"score":{"average_heart_rate":60,"kilojoule":5604.233,"max_heart_rate":151,"strain":7.7822447},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.256Z","user_id":9024165},{"created_at":"2024-06-29T23:18:38.079Z","end":"2024-06-30T01:33:27.994Z","id":603929953,"score":{"average_heart_rate":92,"kilojoule":15370.535,"max_heart_rate":165,"strain":18.322544},"score_state":"SCORED","start":"2024-06-28T21:33:16.143Z","timezone_offset":"+01:00","updated_at":"2024-06-30T06:41:54.395Z","user_id":9024165}],"distance":0,"profile":{"email":"mitchellgcc@gmail.com","first_name":"George","last_name":"Mitchell","user_id":9024165},"recoveries":[{"created_at":"2024-07-02T05:52:16.107Z","cycle_id":605540495,"score":{"hrv_rmssd_milli":127.743675,"recovery_score":94,"resting_heart_rate":45,"skin_temp_celsius":33.4,"spo2_percentage":99.2,"user_calibrating":false},"score_state":"SCORED","sleep_id":1114800359,"updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","cycle_id":604837863,"score":{"hrv_rmssd_milli":126.65708,"recovery_score":95,"resting_heart_rate":49,"skin_temp_celsius":33.3,"spo2_percentage":97.25,"user_calibrating":false},"score_state":"SCORED","sleep_id":1113350538,"updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T06:41:49.238Z","cycle_id":604091125,"score":{"hrv_rmssd_milli":19.45457,"recovery_score":1,"resting_heart_rate":83,"skin_temp_celsius":34.433334,"spo2_percentage":96.666664,"user_calibrating":false},"score_state":"SCORED","sleep_id":1111958259,"updated_at":"2024-06-30T06:41:54.063Z","user_id":9024165}],"sleepData":[{"created_at":"2024-07-02T05:52:16.107Z","end":"2024-07-02T05:45:02.673Z","id":1114800359,"nap":false,"score":{"respiratory_rate":16.582031,"sleep_consistency_percentage":69,"sleep_efficiency_percentage":89.31905,"sleep_needed":{"baseline_milli":27582012,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":928846,"need_from_sleep_debt_milli":4700925},"sleep_performance_percentage":74,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":4,"total_awake_time_milli":3201169,"total_in_bed_time_milli":27800328,"total_light_sleep_time_milli":18139095,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":2249476,"total_slow_wave_sleep_time_milli":4210588}},"score_state":"SCORED","start":"2024-07-01T22:01:41.384Z","timezone_offset":"+01:00","updated_at":"2024-07-02T05:52:22.021Z","user_id":9024165},{"created_at":"2024-07-01T06:24:32.721Z","end":"2024-07-01T06:14:11.741Z","id":1113350538,"nap":false,"score":{"respiratory_rate":17.539062,"sleep_consistency_percentage":53,"sleep_efficiency_percentage":83.31654,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":-4526752,"need_from_recent_strain_milli":1361194,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":77,"stage_summary":{"disturbance_count":20,"sleep_cycle_count":3,"total_awake_time_milli":6027469,"total_in_bed_time_milli":30799591,"total_light_sleep_time_milli":11247327,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":8391342,"total_slow_wave_sleep_time_milli":5133453}},"score_state":"SCORED","start":"2024-06-30T21:40:51.188Z","timezone_offset":"+01:00","updated_at":"2024-07-01T06:24:38.062Z","user_id":9024165},{"created_at":"2024-06-30T14:01:47.987Z","end":"2024-06-30T11:54:03.399Z","id":1112502973,"nap":true,"score":{"respiratory_rate":18.75,"sleep_consistency_percentage":36,"sleep_efficiency_percentage":90.227905,"sleep_needed":{"baseline_milli":27582231,"need_from_recent_nap_milli":0,"need_from_recent_strain_milli":397823,"need_from_sleep_debt_milli":7668000},"sleep_performance_percentage":13,"stage_summary":{"disturbance_count":4,"sleep_cycle_count":0,"total_awake_time_milli":865179,"total_in_bed_time_milli":5391931,"total_light_sleep_time_milli":4007632,"total_no_data_time_milli":0,"total_rem_sleep_time_milli":0,"total_slow_wave_sleep_time_milli":519120}},"score_state":"SCORED","start":"2024-06-30T10:24:10.507Z","timezone_offset":"+01:00","updated_at":"2024-06-30T14:01:52.081Z","user_id":9024165}],"steps":0,"updatedAt":"2024-07-04T16:51:08.136Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","workouts":[{"created_at":"2024-07-02T09:18:56.638Z","end":"2024-07-02T09:12:59.000Z","id":1115001315,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":110,"distance_meter":0,"kilojoule":1225.8358,"max_heart_rate":143,"percent_recorded":100,"strain":7.3438,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2212937,"zone_three_milli":74982,"zone_two_milli":1533229,"zone_zero_milli":287436}},"score_state":"SCORED","sport_id":48,"start":"2024-07-02T08:04:30.817Z","timezone_offset":"+01:00","updated_at":"2024-07-02T09:19:19.053Z","user_id":9024165},{"created_at":"2024-07-01T09:30:01.616Z","end":"2024-07-01T09:28:59.000Z","id":1113518487,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":106,"distance_meter":0,"kilojoule":1380.2019,"max_heart_rate":151,"percent_recorded":100,"strain":7.48,"zone_duration":{"zone_five_milli":0,"zone_four_milli":0,"zone_one_milli":2094730,"zone_three_milli":232636,"zone_two_milli":1728435,"zone_zero_milli":1283347}},"score_state":"SCORED","sport_id":48,"start":"2024-07-01T08:00:00.194Z","timezone_offset":"+01:00","updated_at":"2024-07-01T09:30:41.184Z","user_id":9024165},{"created_at":"2024-06-30T15:51:52.852Z","end":"2024-06-30T15:37:29.747Z","id":1112656755,"score":{"altitude_change_meter":0,"altitude_gain_meter":0,"average_heart_rate":116,"distance_meter":0,"kilojoule":1200.6635,"max_heart_rate":165,"percent_recorded":100,"strain":7.4894,"zone_duration":{"zone_five_milli":0,"zone_four_milli":42298,"zone_one_milli":1388165,"zone_three_milli":329728,"zone_two_milli":1375638,"zone_zero_milli":13457}},"score_state":"SCORED","sport_id":1,"start":"2024-06-30T14:45:00.499Z","timezone_offset":"+01:00","updated_at":"2024-06-30T15:52:10.677Z","user_id":9024165}]},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[31merror[39m: Missing whoopData or enhancedData {"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Scoring meals with userPreferences: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","date":"init","hydrationLevel":"init","macronutrients.carbohydrates":"init","macronutrients.fats":"init","macronutrients.proteins":"init","mealIds":"init","micronutrients.minerals":"init","micronutrients.vitamins":"init","totalCalories":"init","updatedAt":"init","userId":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"date":true,"hydrationLevel":true,"macronutrients.carbohydrates":true,"macronutrients.fats":true,"macronutrients.proteins":true,"mealIds":true,"micronutrients.minerals":true,"micronutrients.vitamins":true,"totalCalories":true,"updatedAt":true,"userId":true},"require":{}}},"getters":{"micronutrients":{"minerals":{},"vitamins":{}}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"0":"a","1":"n","10":"e","11":"d","12":"D","13":"a","14":"t","15":"a","16":":","2":"d","3":" ","4":"e","5":"n","6":"h","7":"a","8":"n","9":"c","_doc":{"__v":1,"_id":"6690aa58e78e3cf9de7c1181","createdAt":"2024-07-12T04:00:24.868Z","date":"2024-07-12T06:05:12.238Z","hydrationLevel":200,"macronutrients":{"carbohydrates":50,"fats":15,"proteins":20},"mealIds":["6690b1aec3d04b56069f5bfc"],"micronutrients":{"minerals":{},"vitamins":{}},"totalCalories":400,"updatedAt":"2024-07-12T06:05:12.288Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1"},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Selecting next meal from scoredMeals: {"0":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"1":{"__v":0,"_id":"6686d58398d24f9dacce4c1e","allergens":["chicken"],"aminoAcids":{"leucine":3,"lysine":2},"antioxidants":60,"calories":600,"carbs":50,"cholesterol":100,"createdAt":"2024-07-04T00:00:00.000Z","description":"Chicken salad with quinoa","fat":20,"fattyAcids":{"saturated":6,"unsaturated":14},"fiber":10,"glycemicIndex":35,"glycemicLoad":15,"healthImpactScore":92,"id":"6686d58398d24f9dacce4c1f","inflammationScore":8,"insolubleFiber":4,"microbiomeImpactScore":25,"micronutrients":{"A":300,"C":20},"minerals":{"calcium":150,"iron":10},"name":"Lunch","nutrientDensityScore":88,"omega3":2,"omega6":2.5,"oxidativeStressScore":18,"polyphenols":15,"protein":40,"sodium":400,"solubleFiber":6,"sugar":25,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":300,"C":20},"waterContent":300},"10":{"__v":0,"_id":"668e53aedbe7899f121f3c14","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:26:06.724Z","fat":20,"id":"668e53aedbe7899f121f3c15","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:26:06.724Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"11":{"__v":0,"_id":"6690b1aec3d04b56069f5bfc","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-12T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6690b1aec3d04b56069f5bfd","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-12T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"2":{"__v":0,"_id":"6686d58398d24f9dacce4c21","allergens":["fish"],"aminoAcids":{"leucine":4,"lysine":2.5},"antioxidants":70,"calories":800,"carbs":40,"cholesterol":120,"createdAt":"2024-07-04T00:00:00.000Z","description":"Grilled salmon with vegetables","fat":30,"fattyAcids":{"saturated":8,"unsaturated":22},"fiber":12,"glycemicIndex":30,"glycemicLoad":12,"healthImpactScore":95,"id":"6686d58398d24f9dacce4c22","inflammationScore":5,"insolubleFiber":5,"microbiomeImpactScore":20,"micronutrients":{"A":400,"C":25},"minerals":{"calcium":200,"iron":12},"name":"Supper","nutrientDensityScore":90,"omega3":3,"omega6":3.5,"oxidativeStressScore":15,"polyphenols":20,"protein":50,"sodium":500,"solubleFiber":7,"sugar":30,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":400,"C":25},"waterContent":400},"3":{"__v":0,"_id":"66878feda5fe619ccb8dbed4","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66878feda5fe619ccb8dbed5","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"4":{"__v":0,"_id":"66879a82b2a73fdadf2b91f2","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879a82b2a73fdadf2b91f3","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-04T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"5":{"__v":0,"_id":"66879ac25067875a633d453f","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"66879ac25067875a633d4540","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"6":{"__v":0,"_id":"668e3cf29ee4d89fb6545659","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-05T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e3cf29ee4d89fb654565a","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-05T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"7":{"__v":0,"_id":"668e4ec8f093194b8e98ee5c","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-10T00:00:00.000Z","description":"Sample meal for testing","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"668e4ec8f093194b8e98ee5d","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"name":"Test Meal","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-10T00:00:00.000Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":200},"8":{"__v":0,"_id":"668e519e35e7248bcd3482c2","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:17:18.416Z","fat":20,"id":"668e519e35e7248bcd3482c3","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:17:18.416Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"9":{"__v":0,"_id":"668e523e227e71895e15bc97","allergens":[],"calories":500,"carbs":50,"createdAt":"2024-07-10T09:19:58.507Z","fat":20,"id":"668e523e227e71895e15bc98","micronutrients":{"minerals":{"Calcium":100,"Iron":5},"vitamins":{"A":500,"C":60}},"name":"Test Meal","protein":30,"updatedAt":"2024-07-10T09:19:58.507Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","waterContent":500},"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: Selected meal: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[32minfo[39m: getNextMeal response: {"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","allergens":"init","aminoAcids":"init","antioxidants":"init","calories":"init","carbs":"init","cholesterol":"init","createdAt":"init","description":"init","fat":"init","fattyAcids":"init","fiber":"init","glycemicIndex":"init","glycemicLoad":"init","healthImpactScore":"init","id":"init","inflammationScore":"init","insolubleFiber":"init","microbiomeImpactScore":"init","name":"init","nutrientDensityScore":"init","omega3":"init","omega6":"init","oxidativeStressScore":"init","polyphenols":"init","protein":"init","sodium":"init","solubleFiber":"init","sugar":"init","updatedAt":"init","userId":"init","waterContent":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"allergens":true,"aminoAcids":true,"antioxidants":true,"calories":true,"carbs":true,"cholesterol":true,"createdAt":true,"description":true,"fat":true,"fattyAcids":true,"fiber":true,"glycemicIndex":true,"glycemicLoad":true,"healthImpactScore":true,"id":true,"inflammationScore":true,"insolubleFiber":true,"microbiomeImpactScore":true,"name":true,"nutrientDensityScore":true,"omega3":true,"omega6":true,"oxidativeStressScore":true,"polyphenols":true,"protein":true,"sodium":true,"solubleFiber":true,"sugar":true,"updatedAt":true,"userId":true,"waterContent":true},"require":{}}},"getters":{"micronutrients":{"A":200,"C":15}},"nestedPath":"micronutrients","skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6686d58398d24f9dacce4c1b","allergens":["eggs","gluten"],"aminoAcids":{"leucine":2.5,"lysine":1.8},"antioxidants":50,"calories":400,"carbs":50,"cholesterol":150,"createdAt":"2024-07-04T00:00:00.000Z","description":"Healthy breakfast with eggs and toast","fat":15,"fattyAcids":{"saturated":5,"unsaturated":10},"fiber":8,"glycemicIndex":45,"glycemicLoad":10,"healthImpactScore":90,"id":"6686d58398d24f9dacce4c1c","inflammationScore":10,"insolubleFiber":3,"microbiomeImpactScore":30,"micronutrients":{"A":200,"C":15},"minerals":{"calcium":100,"iron":8},"name":"Breakfast","nutrientDensityScore":85,"omega3":1.5,"omega6":2,"oxidativeStressScore":20,"polyphenols":10,"protein":20,"sodium":300,"solubleFiber":5,"sugar":20,"updatedAt":"2024-07-08T16:18:56.544Z","userId":"abc42412-0b4c-4e8c-ba7a-3d41c4a96ad1","vitamins":{"A":200,"C":15},"waterContent":200},"score":0,"service":"user-service","timestamp":"2024-07-12 07:05:12"}
[0mGET /api/next-meal [36m304[0m 143.788 ms - -[0m
MongoDB disconnected
MongoDB disconnected
MongoDB disconnected
PostgreSQL disconnected
